<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LiPa Music Services</title>

  <link rel="stylesheet" href="Style.css" />
  <meta http-equiv="ScreenOrientation" content="autoRotate:disabled" />

</head>

<body>
  <!-- Loaded via jQuery -->
  <header id="HeadBar"></header>

  <!-- HERO -->
  <main class="hero">
    <!-- Background Video -->
    <video
      class="hero__video"
      src="Resources/Videos/LiPa Website Video Main.mp4"
      autoplay
      muted
      loop
      playsinline
      preload="auto"
    ></video>

    <!-- NEW: Sound/Mute Button (oben rechts im Video) -->
    <button class="hero__sound is-muted" type="button" id="heroSoundBtn" aria-label="Video stumm" aria-pressed="true" title="Sound an/aus">
      <span class="hero__soundLabel" id="heroSoundLabel">Stumm</span>
      <!-- simple speaker icon + slash -->
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M11 5 6.5 9H3v6h3.5L11 19V5Z"></path>
        <path d="M15.5 8.5a4 4 0 0 1 0 7"></path>
        <path d="M17.8 6.2a7 7 0 0 1 0 11.6"></path>
        <path class="hero__soundSlash" d="M4 4l16 16"></path>
      </svg>
    </button>

    <!-- Overlays -->
    <div class="hero__shade" aria-hidden="true"></div>
    <div class="hero__grain" aria-hidden="true"></div>

    <!-- Content over video -->
    <section class="hero__content container">

      <h1 class="hero__title">
        Musik. Organisation.<br />
        <span class="accent">Professionell bis ins Detail.</span>
      </h1>

      <p class="hero__subtitle">
        Booking, Bandmanagement, Design, Notenverwaltung, Arrangements &amp; Gig-Organisation –
        alles aus einer Hand, damit du dich aufs Wesentliche konzentrieren kannst: <b>die Show.</b>
      </p>

      <div class="hero__cta">
        <a class="btn btn--primary" href="services.html">Zu unseren Services</a>
        <a class="btn btn--ghost" href="contact.html">Direkt kontaktieren</a>
      </div>

      <div class="hero__cards">
        <article class="card">
          <div class="card__kicker">Für Bands</div>
          <div class="card__title">Gig-Organisation &amp; Booking</div>
          <div class="card__text">Saubere Kommunikation, klare Abläufe, stressfreie Auftritte.</div>
        </article>

        <article class="card">
          <div class="card__kicker">Für Artists</div>
          <div class="card__title">Branding &amp; Design</div>
          <div class="card__text">Socials, Visuals, Assets – modern und konsistent.</div>
        </article>

        <article class="card">
          <div class="card__kicker">Für Proben &amp; Shows</div>
          <div class="card__title">Noten &amp; Arrangements</div>
          <div class="card__text">Übersichtlich, versionssicher, bühnentauglich.</div>
        </article>
      </div>

    </section>
  </main>

  <!-- BELOW HERO -->
  <section id="below" class="section container">
    <div class="why">
      <div class="why__copy">
        <div class="why__badge">Warum LiPa?</div>
        <h2 class="why__title">Mehr Struktur. Weniger Stress. Bessere Gigs.</h2>

        <p class="why__text">
          Weil gute Musik Planung braucht – aber <b>keinen Planungsstress</b>.
          Wir bringen Struktur rein, halten dir den Rücken frei und sorgen dafür,
          dass dein Projekt professionell wirkt: nach außen und intern.
        </p>

        <div class="why__stats">
          <div class="stat">
            <div class="stat__num">1</div>
            <div class="stat__label">Ansprechpartner</div>
          </div>
          <div class="stat">
            <div class="stat__num">0</div>
            <div class="stat__label">Chaos vor dem Gig</div>
          </div>
          <div class="stat">
            <div class="stat__num">100%</div>
            <div class="stat__label">Bühnen-ready</div>
          </div>
        </div>
      </div>

      <div class="why__panel">
        <div class="why__panelTitle">Was du bekommst</div>

        <ul class="checklist">
          <li><span class="check"></span>Klare Prozesse &amp; schnelle Kommunikation</li>
          <li><span class="check"></span>Design, das modern und konsistent ist</li>
          <li><span class="check"></span>Ordnung in Noten, Setlists &amp; Assets</li>
          <li><span class="check"></span>Support vor, während und nach dem Gig</li>
        </ul>

        <div class="why__actions">
          <a class="btn btn--primary" href="services.html">Zu unseren Services</a>
          <a class="btn btn--ghost" href="contact.html">Direkt kontaktieren</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Loaded via jQuery -->
  <div id="FootBar"></div>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script>
    // Load shared parts
    $(function () {
      $("#HeadBar").load("FixedPages/HeadBar.html", function () {
        // Burger logic (only if elements exist in HeadBar.html)
        const topbar = document.querySelector(".topbar");
        const burger = document.querySelector("[data-burger]");

        if (topbar && burger) {
          burger.addEventListener("click", () => {
            const open = topbar.classList.toggle("is-open");
            burger.setAttribute("aria-expanded", String(open));
          });

          // Close on outside click
          document.addEventListener("click", (e) => {
            if (!topbar.classList.contains("is-open")) return;
            if (topbar.contains(e.target)) return;
            topbar.classList.remove("is-open");
            burger.setAttribute("aria-expanded", "false");
          });
        }
      });

      $("#FootBar").load("FixedPages/FootBar.html");
    });

    // HERO VIDEO: mute/sound toggle
    const video = document.querySelector(".hero__video");
    const soundBtn = document.getElementById("heroSoundBtn");
    const soundLabel = document.getElementById("heroSoundLabel");

    function setVideoMuted(isMuted){
      if (!video) return;
      video.muted = isMuted;
      video.volume = isMuted ? 0 : 1;

      if (soundBtn){
        soundBtn.classList.toggle("is-muted", isMuted);
        soundBtn.setAttribute("aria-pressed", String(isMuted));
        soundBtn.setAttribute("aria-label", isMuted ? "Video stumm" : "Video mit Sound");
        if (soundLabel) soundLabel.textContent = isMuted ? "Stumm" : "Sound";
      }
    }

    // Default: muted (autoplay safe)
    if (video) setVideoMuted(true);

    // Toggle on click
    if (soundBtn){
      soundBtn.addEventListener("click", async () => {
        if (!video) return;
        const targetMuted = !video.muted;

        // Some browsers need a user gesture to allow audio; this click is that gesture.
        try{
          if (!targetMuted) await video.play();
        }catch(e){ /* ignore */ }

        setVideoMuted(targetMuted);
      });
    }
  </script>
</body>
</html>
